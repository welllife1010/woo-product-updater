# =============================================================================
# WOO PRODUCT UPDATER - ENVIRONMENT CONFIGURATION
# =============================================================================

# Runtime Environment (Option A): production | staging | development
#
# Use APP_ENV as the single selector.
# Backward-compat (temporary): if APP_ENV is not set, code falls back to EXECUTION_MODE
# and maps legacy values: test/stage -> staging.
APP_ENV=development
# EXECUTION_MODE=development

# =============================================================================
# WOOCOMMERCE API CREDENTIALS
# =============================================================================

# Production (Live Site)
WOO_API_BASE_URL_PRODUCTION=https://yourdomain.com
WOO_API_CONSUMER_KEY_PRODUCTION=ck_your_production_key
WOO_API_CONSUMER_SECRET_PRODUCTION=cs_your_production_secret

# Staging
WOO_API_BASE_URL_STAGING=https://yourstagingdomain.com
WOO_API_CONSUMER_KEY_STAGING=ck_your_staging_key
WOO_API_CONSUMER_SECRET_STAGING=cs_your_staging_secret

# Development
WOO_API_BASE_URL_DEVELOPMENT=https://yourdevdomain.com
WOO_API_CONSUMER_KEY_DEVELOPMENT=ck_your_dev_key
WOO_API_CONSUMER_SECRET_DEVELOPMENT=cs_your_dev_secret

# Legacy fallbacks (supported during migration):
# WOO_API_BASE_URL=https://yourdomain.com
# WOO_API_CONSUMER_KEY=ck_your_production_key
# WOO_API_CONSUMER_SECRET=cs_your_production_secret
# WOO_API_BASE_URL_TEST=https://yourstagingdomain.com
# WOO_API_CONSUMER_KEY_TEST=ck_your_staging_key
# WOO_API_CONSUMER_SECRET_TEST=cs_your_staging_secret
# WOO_API_BASE_URL_DEV=https://yourdevdomain.com
# WOO_API_CONSUMER_KEY_DEV=ck_your_dev_key
# WOO_API_CONSUMER_SECRET_DEV=cs_your_dev_secret

# =============================================================================
# AWS S3 CONFIGURATION
# =============================================================================

AWS_REGION_NAME=us-west-1
AWS_ENDPOINT_URL=https://s3.us-west-1.amazonaws.com

# S3 buckets (Option A)
S3_BUCKET_NAME_PRODUCTION=your-production-bucket
S3_BUCKET_NAME_STAGING=your-staging-bucket
S3_BUCKET_NAME_DEVELOPMENT=woo-product-updater-dev

# Legacy fallbacks (supported during migration):
# S3_BUCKET_NAME=your-production-bucket
# S3_BUCKET_NAME_TEST=your-staging-or-dev-bucket

S3_OBJECT_KEY=your_default_object_key

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

REDIS_HOST=127.0.0.1
REDIS_PORT=6379

# Logical DB separation
REDIS_DB_BULLMQ=0    # BullMQ queues/jobs
REDIS_DB_APP=1       # App KV (progress, counters, etc.)

# Optional: Single URL for cloud Redis with TLS
# REDIS_URL_APP=rediss://:PASSWORD@your-redis-host:6380/1

# Optional auth/TLS
REDIS_TLS=false
REDIS_USERNAME=
REDIS_PASSWORD=

# Namespaces/prefixes
BULLMQ_PREFIX=bull
APP_KEY_PREFIX=woo_updater:
QUEUE_NAME=batchQueue

# =============================================================================
# PROCESSING CONFIGURATION
# =============================================================================

# Number of rows per batch job
BATCH_SIZE=20

# Number of concurrent jobs per worker
CONCURRENCY=2

# Update mode: 'full' or 'quantity'
UPDATE_MODE=full

# CSV header row (1-based index, for CSVs with metadata rows)
CSV_HEADER_ROW=1

# Enable debug logging
DEBUG_LOGGING=true

# =============================================================================
# BULL BOARD AUTHENTICATION (Production Only)
# =============================================================================

# Basic auth credentials for Bull Board in production
# Change these before deploying to production!
BULL_BOARD_USER=admin
BULL_BOARD_PASS=your-secure-password-here

# =============================================================================
# SERVER PORTS
# =============================================================================

# Main application port (Bull Board, job enqueuing)
PORT=3000

# CSV Mapping UI port
CSV_MAPPING_PORT=4000
